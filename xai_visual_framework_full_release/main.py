# main pipeline to coordinate methods